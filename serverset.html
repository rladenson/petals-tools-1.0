<!-- SPDX-License-Identifier: CC0-1.0 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='/pk.css' rel='stylesheet' type='text/css' media='all'>
  <title>Server Settings | petalstools</title>
  <meta charset="utf-8"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <script type="text/javascript" src="/serverset.js"></script>
</head>

<body onload='load()'>
  <div id=all>
    
  	<h1>Change Server Settings</h1>
  	<label for='token'>Token:</label>
  	<input type='text' id='token' oninput='save("token")'>
  	<br>
  	<label for='serverid'>Server ID (or a message link from said server):</label>
  	<input type='text' id='serverid' oninput='save("serverid")'>
  	<br><br><br>
  	
  	
    <div class='buttons'>
      <button class='pageButton' id='toSoloButton' selected=true onclick='switchTo("toSoloButton")'>System and Member Settings</button>
      <button class='pageButton' id='toBulkButton' selected=false onclick='switchTo("toBulkButton")'>Bulk Member Settings</button>
      <button class='pageButton' id='toTemplateButton' selected=false onclick='switchTo("toTemplateButton")'>Name Templates</button>
    </div>
  	
  	<div id='solo_settings'>
    	<h3>System Settings</h3>
      <label for='proxying_enabled'>Change whether proxy is enabled:</label>
        <select name='proxying_enabled' id='proxying_enabled'>
          <option value='null'>Don't Change Setting</option>
          <option value='true'>Turn On</option>
          <option value='false'>Turn Off</option>
        </select>
      <br>
      <label for='tag_enabled'>Change whether tag is enabled:</label>
        <select name='tag_enabled' id='tag_enabled'>
          <option value='null'>Don't Change Setting</option>
          <option value='on'>Turn On</option>
          <option value='off'>Turn Off</option>
        </select>
      <br>
        <label for='tag'>Servertag:</label>
        <input type='text' maxlength='79' id='tag'>
        <label for='tag_toggle'>Clear Servertag:</label>
        <input type='checkbox' id='tag_toggle'>
        <br>
      <label for='autoproxy_mode'>Change autoproxy mode:</label>
        <select name='autoproxy_mode' id='autoproxy_mode' onChange='toggleMem()'>
          <option value='null'>Don't Change Setting</option>
          <option value='off'>Turn Autoproxy Off</option>
          <option value='front'>Turn Autoproxy to Front</option>
          <option value='latch'>Turn Autoproxy to Latch</option>
          <option value='member'>Turn Autoproxy to a Member (set below)</option>
        </select>
      <br>
      <label for='autoproxy_member' class='apMember' hidden>Autoproxy member* (ignored if autoproxy mode not Member):</label>
      <input type='text' name='autoproxy_member' class='apMember' id='autoproxy_member' maxlength='5' hidden>
      <br>
      <button onclick='runSystem()'>Go!</button>
      <br><br>
      <h3>Member Settings</h3>
      <label for='member'>Member*:</label>
      <input type='text' id='member' maxlength='5'>
      <br>
      <label for='display_name'>Servername:</label>
      <select id='display_name_select' onChange='toggleDisplayName()'>
        <option value='null'>Don't Change Setting</option>
        <option value='clear'>Clear Servername</option>
        <option value='set'>Set Servername</option>
      </select>
      <input type='text' maxlength='80' name='display_name' id='display_name' hidden>
      <input type='button' class='templateLoadButton' value='Load Template 1' onclick='loadtemplate("template1")' hidden>
      <input type='button' class='templateLoadButton' value='Load Template 2' onclick='loadtemplate("template2")' hidden>
      <input type='button' class='templateLoadButton' value='Load Template 3' onclick='loadtemplate("template3")' hidden>
      <br>
      <label for='avatar_url'>Serveravatar:</label>
      <select id='avatar_url_select' onChange='toggleAvatar()'>
        <option value='null'>Don't Change Setting</option>
        <option value='clear'>Clear Serveravatar</option>
        <option value='set'>Set Serveravatar</option>
      </select>
      <input type='text' maxlength='256' name='avatar_url' id='avatar_url' hidden>
      <br>
      <button onclick='runMember()'>Go!</button>
      <br><br>
    </div>
    
    <div id='bulk_settings' hidden>
      <h3>Settings For All Members</h3>
      Note that these are only for the server whose id you put above!
      <br>
      <button onclick='viewAll()'>View All Member Serversettings</button>
      <button onclick='clearAll()'>Clear All Member Serversettings</button>
  	  <p id='staying_content'></p>
    </div>
    
    <div id='templates' hidden>
      <h3>Templates go here</h3>
      <label for='template1'>Template 1:</label>
      <!--input type='text' class='template_name' id='template1_name' placeholder='Template 1 Name' onChange='save("template1_name")'-->
      <input type='text' class='template' id='template1' placeholder="Template 1" onChange='save("template1")'>
      <br><br>
      <label for='template2'>Template 2:</label>
      <!--input type='text' class='template_name' id='template2_name' placeholder='Template 2 Name' onChange='save("template2_name")'-->
      <input type='text' class='template' id='template2' placeholder="Template 2" onChange='save("template2")'>
      <br><br>
      <label for='template3'>Template 3:</label>
      <!--input type='text' class='template_name' id='template3_name' placeholder='Template 3 Name' onChange='save("template3_name")'-->
      <input type='text' class='template' id='template3' placeholder="Template 3" onChange='save("template3")'>
      <br>
    </div>
    
  	<p id='content'></p>
  	<p id='error'></p>
  	<br><br>
  	<p id='info'> </p>
  	<footer>*Must be a 5-letter ID</footer>
  	<footer>For help please contact Agrimonies Petala#5342 on discord!</footer>
	</div>
</body>